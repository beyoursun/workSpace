!function(e){"use strict";e.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),i=0;i<n.length;i++)a.off(n[i],t)}var i,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=this;if(e)for(i=0;i<n.length;i++)a.on(n[i],t);return this},e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTouchPosition=function(e){return e=e.originalEvent||e,"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}:{x:e.pageX,y:e.pageY}},e.fn.scrollHeight=function(){return this[0].scrollHeight},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this},e.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this},e.getTranslate=function(e,t){var i,n,a,o;return"undefined"==typeof t&&(t="x"),a=window.getComputedStyle(e,null),window.WebKitCSSMatrix?o=new WebKitCSSMatrix("none"===a.webkitTransform?"":a.webkitTransform):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===t&&(n=window.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=window.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.join=function(e){return this.toArray().join(e)}}($),function(e){"use strict";var t={},i=navigator.userAgent,n=i.match(/(Android);?[\s\/]+([\d.]+)?/),a=i.match(/(iPad).*OS\s([\d_]+)/),o=i.match(/(iPod)(.*OS\s([\d_]+))?/),r=!a&&i.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,n&&(t.os="android",t.osVersion=n[2],t.android=!0,t.androidChrome=i.toLowerCase().indexOf("chrome")>=0),(a||r||o)&&(t.os="ios",t.ios=!0),r&&!o&&(t.osVersion=r[2].replace(/_/g,"."),t.iphone=!0),a&&(t.osVersion=a[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&i.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=i.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(r||a||o)&&i.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var s=t.osVersion.split(".");t.minimalUi=!t.webView&&(o||r)&&(1*s[0]===7?1*s[1]>=1:1*s[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=e(window).width(),p=e(window).height();t.statusBar=!1,t.webView&&c*p===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var l=[];if(t.pixelRatio=window.devicePixelRatio||1,l.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&l.push("retina"),t.os&&(l.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var u=parseInt(t.osVersion.split(".")[0],10),d=u-1;d>=6;d--)l.push("ios-gt-"+d);t.statusBar?l.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),l.length>0&&e("html").addClass(l.join(" ")),e.device=t}($),+function(e){"use strict";e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"};var t=function(t){function i(){var t=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function n(){return!!(c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0)}function a(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function o(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!i())){var t=c.input.parents(".content");if(0===t.length)return;var n,a=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-a-c.container.height(),s=t[0].scrollHeight-a-c.container.height(),p=c.input.offset().top-a+c.input[0].offsetHeight;if(p>r){var l=t.scrollTop()+p-r;l+r>s&&(n=l+r-s+o,r===s&&(n=c.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(l,300)}}}function r(t){n()||(c.input&&c.input.length>0?t.target!==c.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&c.close():0===e(t.target).parents(".weui-picker-modal").length&&c.close())}function s(){c.opened=!1,c.input&&c.input.length>0&&c.input.parents(".page-content").css({"padding-bottom":""}),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,p={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};t=t||{};for(var l in p)"undefined"==typeof t[l]&&(t[l]=p[l]);c.params=t,c.cols=[],c.initialized=!1,c.inline=!!c.params.container;var u=e.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android;return c.setValue=function(e,t){for(var i=0,n=0;n<c.cols.length;n++)c.cols[n]&&!c.cols[n].divider&&(c.cols[n].setValue(e[i],t),i++)},c.updateValue=function(){for(var t=[],i=[],n=0;n<c.cols.length;n++)c.cols[n].divider||(t.push(c.cols[n].value),i.push(c.cols[n].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=i,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(e(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),e(c.input).trigger("change")))},c.initPickerCol=function(t,i){function n(){g=e.requestAnimationFrame(function(){d.updateItems(void 0,void 0,0),n()})}function a(t){if(!y&&!k){t.preventDefault(),k=!0;var i=e.getTouchPosition(t);T=x=i.y,C=(new Date).getTime(),S=!0,b=A=e.getTranslate(d.wrapper[0],"y")}}function o(t){if(k){t.preventDefault(),S=!1;var i=e.getTouchPosition(t);x=i.y,y||(e.cancelAnimationFrame(g),y=!0,b=A=e.getTranslate(d.wrapper[0],"y"),d.wrapper.transition(0)),t.preventDefault();var n=x-T;A=b+n,M=void 0,A<h&&(A=h-Math.pow(h-A,.8),M="min"),A>w&&(A=w+Math.pow(A-w,.8),M="max"),d.wrapper.transform("translate3d(0,"+A+"px,0)"),d.updateItems(void 0,A,0,c.params.updateValuesOnTouchmove),E=A-D||A,P=(new Date).getTime(),D=A}}function r(t){if(!k||!y)return void(k=y=!1);k=y=!1,d.wrapper.transition(""),M&&("min"===M?d.wrapper.transform("translate3d(0,"+h+"px,0)"):d.wrapper.transform("translate3d(0,"+w+"px,0)")),V=(new Date).getTime();var i,a;V-C>300?a=A:(i=Math.abs(E/(V-P)),a=A+E*c.params.momentumRatio),a=Math.max(Math.min(a,w),h);var o=-Math.floor((a-w)/f);c.params.freeMode||(a=-o*f+w),d.wrapper.transform("translate3d(0,"+parseInt(a,10)+"px,0)"),d.updateItems(o,a,"",!0),c.params.updateValuesOnMomentum&&(n(),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(g)})),setTimeout(function(){S=!0},100)}function s(t){if(S){e.cancelAnimationFrame(g);var i=e(this).attr("data-picker-value");d.setValue(i)}}var p=e(t),l=p.index(),d=c.cols[l];if(!d.divider){d.container=p,d.wrapper=d.container.find(".picker-items-col-wrapper"),d.items=d.wrapper.find(".picker-item");var m,f,v,h,w;d.replaceValues=function(e,t){d.destroyEvents(),d.values=e,d.displayValues=t;var i=c.columnHTML(d,!0);d.wrapper.html(i),d.items=d.wrapper.find(".picker-item"),d.calcSize(),d.setValue(d.values[0],0,!0),d.initEvents()},d.calcSize=function(){c.params.rotateEffect&&(d.container.removeClass("picker-items-col-absolute"),d.width||d.container.css({width:""}));var t,i;t=0,i=d.container[0].offsetHeight,m=d.wrapper[0].offsetHeight,f=d.items[0].offsetHeight,v=f*d.items.length,h=i/2-v+f/2,w=i/2-f/2,d.width&&(t=d.width,parseInt(t,10)===t&&(t+="px"),d.container.css({width:t})),c.params.rotateEffect&&(d.width||(d.items.each(function(){var i=e(this);i.css({width:"auto"}),t=Math.max(t,i[0].offsetWidth),i.css({width:""})}),d.container.css({width:t+2+"px"})),d.container.addClass("picker-items-col-absolute"))},d.calcSize(),d.wrapper.transform("translate3d(0,"+w+"px,0)").transition(0);var g;d.setValue=function(t,i,a){"undefined"==typeof i&&(i="");var o=d.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if("undefined"!=typeof o&&o!==-1){var r=-o*f+w;d.wrapper.transition(i),d.wrapper.transform("translate3d(0,"+r+"px,0)"),c.params.updateValuesOnMomentum&&d.activeIndex&&d.activeIndex!==o&&(e.cancelAnimationFrame(g),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(g)}),n()),d.updateItems(o,r,i,a)}},d.updateItems=function(t,i,n,a){"undefined"==typeof i&&(i=e.getTranslate(d.wrapper[0],"y")),"undefined"==typeof t&&(t=-Math.round((i-w)/f)),t<0&&(t=0),t>=d.items.length&&(t=d.items.length-1);var o=d.activeIndex;d.activeIndex=t,d.wrapper.find(".picker-selected").removeClass("picker-selected"),c.params.rotateEffect&&d.items.transition(n);var r=d.items.eq(t).addClass("picker-selected").transform("");if((a||"undefined"==typeof a)&&(d.value=r.attr("data-picker-value"),d.displayValue=d.displayValues?d.displayValues[t]:d.value,o!==t&&(d.onChange&&d.onChange(c,d.value,d.displayValue),c.updateValue())),c.params.rotateEffect){(i-(Math.floor((i-w)/f)*f+w))/f;d.items.each(function(){var t=e(this),n=t.index()*f,a=w-i,o=n-a,r=o/f,s=Math.ceil(d.height/f/2)+1,c=-18*r;c>180&&(c=180),c<-180&&(c=-180),Math.abs(r)>s?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-i+w)+"px, "+(u?-110:0)+"px) rotateX("+c+"deg)")})}},i&&d.updateItems(0,w,0);var k,y,T,x,C,V,b,M,A,D,E,P,S=!0;d.initEvents=function(t){var i=t?"off":"on";d.container[i](e.touchEvents.start,a),d.container[i](e.touchEvents.move,o),d.container[i](e.touchEvents.end,r),d.items[i]("click",s)},d.destroyEvents=function(){d.initEvents(!0)},d.container[0].f7DestroyPickerCol=function(){d.destroyEvents()},d.initEvents()}},c.destroyPickerCol=function(t){t=e(t),"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()},e(window).on("resize",a),c.columnHTML=function(e,t){var i="",n="";if(e.divider)n+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var a=0;a<e.values.length;a++)i+='<div class="picker-item" data-picker-value="'+e.values[a]+'">'+(e.displayValues?e.displayValues[a]:e.values[a])+"</div>";n+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+i+"</div></div>"}return t?i:n},c.layout=function(){var e,t="",i="";c.cols=[];var n="";for(e=0;e<c.params.cols.length;e++){var a=c.params.cols[e];n+=c.columnHTML(c.params.cols[e]),c.cols.push(a)}i="weui-picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":"")+(1===c.params.cols.length?" picker-columns-single":""),t='<div class="'+i+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{title}}/g,c.params.title):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=e(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",o),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),c.opened=!1,c.open=function(){var t=i();c.opened||(c.layout(),t?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=e.popover(c.pickerHTML,c.params.input,!0),c.container=e(c.popover).find(".weui-picker-modal"),e(c.popover).on("close",function(){s()})):c.inline?(c.container=e(c.pickerHTML),c.container.addClass("picker-modal-inline"),e(c.params.container).append(c.container)):(c.container=e(e.openPicker(c.pickerHTML)),e(c.container).on("close",function(){s()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0)),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(t){if(c.opened&&!c.inline)return n()?void e.closePicker(c.popover):void e.closePicker(c.container)},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",o),e("html").off("click",r),e(window).off("resize",a)},c.inline&&c.open(),c};e(document).on("click",".close-picker",function(){var t=e(".weui-picker-modal.weui-picker-modal-visible");t.length>0&&e.closePicker(t),e(".weui-mask").remove(),e("body").removeClass("weui-mask-overflow")}),e(document).on(e.touchEvents.move,".picker-modal-inner",function(e){e.preventDefault()}),e.openPicker=function(t,i,n){"function"==typeof i&&(n=i,i=void 0),e.closePicker();var a=e("<div class='weui-picker-container "+(i||"")+"'></div>").appendTo(document.body);a.show(),e("<div class='weui-mask'></div>").appendTo(document.body),e("body").addClass("weui-mask-overflow"),a.addClass("weui-picker-container-visible");var o=e(t).appendTo(a);return o.width(),o.addClass("weui-picker-modal-visible"),n&&a.on("close",n),o},e.updatePicker=function(t){var i=e(".weui-picker-container-visible");if(!i[0])return!1;i.html("");var n=e(t).appendTo(i);return n.addClass("weui-picker-modal-visible"),n},e.closePicker=function(t,i){"function"==typeof t&&(i=t),e(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){e(this).parent().remove(),i&&i()}).trigger("close")},e.fn.picker=function(i){var n=arguments;return this.each(function(){if(this){var a=e(this),o=a.data("picker");if(!o){i=i||{};var r=a.val();void 0===i.value&&""!==r&&(i.value=i.cols.length>1?r.split(" "):[r]);var s=e.extend({input:this},i);o=new t(s),a.data("picker",o)}"string"==typeof i&&o[i].apply(o,Array.prototype.slice.call(n,1))}})}}($),+function(e){"use strict";var t,i=function(e){return e<10?"0"+e:e},n=function(t,i){this.input=e(t),this.params=i,this.initMonthes="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),this.initYears=function(){for(var e=[],t=1900;t<=2030;t++)e.push(t);return e}();var n=e.extend({},i,this.getConfig());e(this.input).picker(n)};n.prototype={getDays:function(e){for(var t=[],i=1;i<=(e||31);i++)t.push(i<10?"0"+i:i);return t},getDaysByMonthAndYear:function(e,t){var i=new Date(t,parseInt(e)+1-1,1),n=new Date(i-1);return this.getDays(n.getDate())},getConfig:function(){var e,t=new Date,n=this.params,a=this,o={rotateEffect:!1,cssClass:"datetime-picker",value:[t.getFullYear(),i(t.getMonth()+1),i(t.getDate()),i(t.getHours()),i(t.getMinutes())],onChange:function(t,i,o){var r=(t.cols,a.getDaysByMonthAndYear(i[1],i[0])),s=i[2];s>r.length&&(s=r.length),t.cols[4].setValue(s);var c=new Date(i[0]+"-"+i[1]+"-"+i[2]),p=!0;if(n.min){var l=new Date("function"==typeof n.min?n.min():n.min);c<+l&&(t.setValue(e),p=!1)}if(n.max){var u=new Date("function"==typeof n.max?n.max():n.max);c>+u&&(t.setValue(e),p=!1)}p&&(e=i),a.params.onChange&&a.params.onChange.apply(this,arguments)},formatValue:function(e,t,i){return a.params.format(e,t,i)},cols:[{values:function(){for(var e=[],t=1900;t<=2050;t++)e.push(t);return e}()},{divider:!0,content:n.yearSplit},{values:["01","02","03","04","05","06","07","08","09","10","11","12"]},{divider:!0,content:n.monthSplit},{values:function(){for(var e=[],t=1;t<=31;t++)e.push(i(t));return e}()}]};n.dateSplit&&o.cols.push({divider:!0,content:n.dateSplit}),o.cols.push({divider:!0,content:n.datetimeSplit});var r=a.params.times();r&&r.length&&(o.cols=o.cols.concat(r));var s=this.input.val();return s&&(o.value=n.parse(s)),this.params.value&&(this.input.val(this.params.value),o.value=n.parse(this.params.value)),o}},e.fn.datetimePicker=function(i){return i=e.extend({},t,i),this.each(function(){if(this){var t=e(this),a=t.data("datetime");return a||t.data("datetime",new n(this,i)),a}})},t=e.fn.datetimePicker.prototype.defaults={input:void 0,min:void 0,max:void 0,yearSplit:"-",monthSplit:"-",dateSplit:"",datetimeSplit:" ",times:function(){return[{values:function(){for(var e=[],t=0;t<24;t++)e.push(i(t));return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;t<59;t++)e.push(i(t));return e}()}]},format:function(e,t){return e.cols.map(function(e){return e.value||e.content}).join("")},parse:function(e){var t=e.split(this.datetimeSplit);return 1===t.length&&(t[1]=" "),t[0].split(/\D/).concat(t[1].split(/:|时|分|秒/)).filter(function(e){return!!e})}}}($);